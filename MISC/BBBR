BBBR:		MOV DX, DS
		MOV ES, DX
		MOV DX, 0B800H
		MOV DS, DX
		XOR AH, AH
		MOV SI, AX
		XCHG AL, AH
		SHR AX, 1
		SHR AX, 1
		SHR AX, 1
		SHL SI, 1
		SHL SI, 1
		SHL SI, 1
		ADD SI, AX
		XOR BP, BP
		AND AX, 2000H
		ADD SI, AX
		CMP AX, 2000H
		SBB BP, BP
		AND BP, 80
		MOV AX, CX
		SHR AX, 1
		SHR AX, 1
		ADD SI, AX
		AND CL, 3
		SHL CL, 1
		TEST BL, 3
		LAHF
		SHR BL, 1
		SHR BL, 1
		ROL AH, 1
		RCL AH, 1
		CMC
		ADC BL, 0
		CLD
		MOV DX, BX
BBBRLV:		MOV CH, DL
BBBRLH:		LODSB
		MOV AH, [SI]
		ROL AX, CL
		STOSB
		DEC CH
		JNZ BBBRLH
		XOR AH, AH
		MOV AL, DL
		SUB SI, AX
		XOR BP, 80
		XOR SI, 2000H
		ADD SI, BP
		DEC DH
		JNZ BBBRLV
		MOV DX, ES
		MOV DS, DX
		RET
