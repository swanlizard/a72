BMCP:		CLD
		MOV CL, BL
		AND CL, 3
		SHL CL, 1
BMCPVL:		MOV CH, BL
		XOR DH, DH
		XOR AH, AH
BMCPHL:		INC DH
		LODSB
		AND AL, 3
		SHL AH, 1
		SHL AH, 1
		OR AH, AL
		CMP DH, 4
		JC BMCP1
		XOR AL, AL
		MOV DH, AL
		XCHG AL, AH
		STOSB
BMCP1:		DEC CH
		JNZ BMCPHL
		OR DH, DH
		JZ BMCP2
		SHL AH, CL
		XOR DH, DH
		MOV AL, AH
		STOSB
BMCP2:		DEC BH
		JNZ BMCPVL
		RET
