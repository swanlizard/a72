RD:		MOV CX, [EOB]
		SUB CX, [EOL]
		JNA RD1
		MOV AL, 0DH
		MOV DI, [EOL]
		CLD
	REPNZ	SCASB
		JNZ RD1
		MOV AL, 0AH
		SCASB
		JZ RD2
		DEC DI
RD2:		MOV [EOL], DI
		CALL CALF
		INC WORD PTR [DI+2]
		INC AX
		CLC
		RET
RD1:		MOV AH, 3FH
		MOV CX, 2FFH
		MOV DX, OFFSET INPUT
		MOV BX, [INFILE]
		INT 21H
		JC RDX
		OR AX, AX
		JZ RD0
		MOV BX, AX
		MOV CX, AX
		ADD AX, OFFSET INPUT
		MOV DX, AX
		MOV DI, AX
		DEC DI
		MOV AL, 0DH
		STD
	REPNZ	SCASB
		JNZ EXCESS
		INC DI
		MOV AX, DX
		SUB AX, DI
		JNA NEX0
		SUB BX, AX
		NEG AX
		CWD
		MOV CX, DX
		MOV DX, AX
		MOV AX, 4201H
		PUSH BX
		MOV BX, [INFILE]
		INT 21H
		POP BX
		JC RDX
NEX0:		MOV AX, OFFSET INPUT
		MOV [EOL], AX
		ADD AX, BX
		MOV [EOB], AX
		MOV BYTE PTR [BX+INPUT], 3BH
		MOV AX, BX
		CLC
		RET
RD0:		XOR AX, AX
		CLC
		RET
RDX:		STC
		RET
EXCESS:		CMP BX, 2FFH
		JC NEX0
		MOV AL, 0EH
		JMP FAIL
