MMODRM:		OR BYTE PTR [FLAGS], 10H
		MOV AX, [ARGS]
		MOV CL, 4
		CMP AL, 11H
		JZ MREGL
		CMP AL, 12H
		JZ MMEMR
		CMP AL, 13H
		JZ MREGL
		CMP AL, 21H
		JZ MMEML
		CMP AL, 23H
		JZ MMEML
		CMP AL, 31H
		JZ MREGR
		CMP AL, 32H
		JZ MMEMR
		AND AX, 0F0FH
		CMP AL, 1
		JZ MREGR
		CMP AL, 2
		JZ MMEMR
		MOV AX, [ARGS]
		ROR AX, CL
		AND AX, 0F0FH
		CMP AL, 1
		JZ MREGR
		CMP AL, 2
		JZ MMEMR
		RET
MMEML:		ROR AH, CL
MMEMR:		MOV AL, AH
		PUSH AX
		AND AX, 7007H
		ROR AH, 1
		OR AL, AH
		OR [MODRM], AL
		POP AX
		TEST AL, 8
		JNZ MME
		TEST BYTE PTR [FLAGS], 8
		JZ MM0
		MOV AL, 40H
		TEST BYTE PTR [FLAGS], 4
		JZ MM8
		SHL AL, 1
MM8:		OR [MODRM], AL
		RET
MM0:		AND AL, 7
		CMP AL, 6
		JNZ MME
		OR BYTE PTR [FLAGS], 8
		OR BYTE PTR [MODRM], 40H
MME:		RET
MREGL:		ROR AH, CL
MREGR:		MOV AL, AH
		ROR AH, 1
		AND AX, 3807H
		OR AL, AH
		OR AL, 0C0H
		OR [MODRM], AL
		RET
