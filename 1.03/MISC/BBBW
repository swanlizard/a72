BBBW:		MOV DX, 0B800H
		MOV ES, DX
		XOR AH, AH
		RCR AL, 1
		SBB BP, BP
		XCHG AL, AH
		MOV DI, AX
		SHR DI, 1
		SHR DI, 1
		ADD DI, AX
		ADD DI, CX
		SHR DI, 1
		SHR DI, 1
		MOV AX, 2000H
		AND AX, BP
		AND BP, 80
		ADD DI, AX
		TEST BL, 3
		LAHF
		SHR BL, 1
		SHR BL, 1
		ROL AH, 1
		RCL AH, 1
		CMC
		ADC BL, 0
		CLD
		AND CL, 3
		JZ BBBWF
		MOV DX, BX
		SHL CL, 1
		MOV BX, 0FF00H
		ROR BX, CL
BBBWLV:		MOV CH, DL
BBBWLH:		LODSB
		XOR AH, AH
		ROR AX, CL
		AND ES:[DI], BX
		OR ES:[DI], AX
		INC DI
		DEC CH
		JNZ BBBWLH
		XOR AH, AH
		MOV AL, DL
		SUB DI, AX
		XOR DI, 2000H
		ADD DI, BP
		XOR BP, 80
		DEC DH
		JNZ BBBWLV
		RET
BBBWF:		XOR AH, AH
		XOR CH, CH
BBBWFL:		MOV CL, BL
	REPZ	MOVSB
		MOV AL, BL
		SUB DI, AX
		XOR DI, 2000H
		ADD DI, BP
		XOR BP, 80
		DEC BH
		JNZ BBBWFL
		RET
