VAL:		MOV AX, [SI]
		XCHG AL, AH
		OR AH, AH
		JZ VAL9
		CMP AL, 30H
		JC VAL9
		CMP AL, 39H
		JA VAL9
		CMP AH, 1
		JA VAL1
		XOR AH, AH
		SUB AL, 30H
		INC SI
		INC SI
		CLC
		RET
VAL1:		CLD
		XCHG AL, AH
		XOR AH, AH
		PUSH CX
		PUSH DX
		PUSH BX
		XOR DX, DX
		MOV CX, AX
		MOV BX, AX
		MOV AL, [BX+SI]
		MOV BL, 10
		INC SI
		CMP AL, 48
		JC VAL0
		CMP AL, 57
		JNA VAL5
		AND AL, 0DFH
		MOV BL, 16
		DEC CX
		CMP AL, 72
		JZ VAL5
		CMP AL, 79
		JZ VAL8
		CMP AL, 81
		JZ VAL4
		CMP AL, 66
		JZ VAL2
VAL0:		XOR AX, AX
		POP BX
		POP DX
		POP CX
VAL9:		STC
		RET
VAL2:		SHR BX, 1
VAL4:		SHR BX, 1
VAL8:		SHR BX, 1
VAL5:		OR DX, DX
		JZ VAL6
		MOV AX, DX
		MUL BX
		MOV DX, AX
VAL6:		LODSB
		CMP AL, 48
		JC VAL0
		CMP AL, 57
		JNA VAL7
		AND AL, 0DFH
		SUB AL, 7
VAL7:		SUB AL, 48
		XOR AH, AH
		ADD DX, AX
		LOOP VAL5
		MOV AX, DX
		CMP BX, 10
		JZ VAL3
		INC SI
VAL3:		POP BX
		POP DX
		POP CX
		CLC
		RET
