BBBR:		MOV DX, DS
		MOV ES, DX
		MOV DX, 0B800H
		MOV DS, DX
		XOR AH, AH
		RCR AL, 1
		SBB BP, BP
		XCHG AL, AH
		MOV SI, AX
		SHR SI, 1
		SHR SI, 1
		ADD SI, AX
		ADD SI, CX
		SHR SI, 1
		SHR SI, 1
		MOV AX, 2000H
		AND AX, BP
		AND BP, 80
		ADD SI, AX
		TEST BL, 3
		LAHF
		SHR BL, 1
		SHR BL, 1
		ROL AH, 1
		RCL AH, 1
		CMC
		ADC BL, 0
		CLD
		AND CL, 3
		JZ BBBRF
		SHL CL, 1
BBBRLV:		MOV CH, BL
BBBRLH:		LODSB
		MOV AH, DS:[SI]
		ROL AX, CL
		STOSB
		DEC CH
		JNZ BBBRLH
		XOR AH, AH
		MOV AL, BL
		SUB SI, AX
		ADD SI, BP
		XOR SI, 2000H
		XOR BP, 80
		DEC BH
		JNZ BBBRLV
		MOV DX, ES
		MOV DS, DX
		RET
BBBRF:		XOR AH, AH
		XOR CH, CH
BBBRFL:		MOV CL, BL
	REPZ	MOVSB
		MOV AL, BL
		SUB SI, AX
		ADD SI, BP
		XOR SI, 2000H
		XOR BP, 80
		DEC BH
		JNZ BBBRLV
		MOV DX, ES
		MOV DS, DX
		RET
